import{a as e,r as t}from"./resize-detector.4e96b72b.js";import{i as n,t as r}from"./echarts.2b8dcc79.js";import{d as a,s as o,B as i,L as u,k as s,i as c,h as l,w as f,j as p,A as v,ad as d,n as h,u as g}from"./@vue.73d14ebc.js";var m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m.apply(this,arguments)},b=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];var O={autoresize:Boolean},y=/^on[^a-z]/,_=function(e){return y.test(e)};function E(e,t){var n=g(e);return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}var j={loading:Boolean,loadingOptions:Object},x=null,A=[],w=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",a=!0===t.singleTag,o="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var i=A.indexOf(o);-1===i&&(i=A.push(o)-1,w[i]={}),n=w[i]&&w[i][r]?w[i][r]:w[i][r]=u()}else n=u();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function u(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),a=0;a<n.length;a++)e.setAttribute(n[a],t.attributes[n[a]]);var i="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(i,e),e}}("x-vue-echarts{display:block;width:100%;height:100%;min-width:0}\n",{});var L=function(){if(null!=x)return x;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return x=!1;try{new Function("tag","class EChartsElement extends HTMLElement {\n  __dispose = null;\n\n  disconnectedCallback() {\n    if (this.__dispose) {\n      this.__dispose();\n      this.__dispose = null;\n    }\n  }\n}\n\nif (customElements.get(tag) == null) {\n  customElements.define(tag, EChartsElement);\n}\n")("x-vue-echarts")}catch(e){return x=!1}return x=!0}(),z=a({name:"echarts",props:m(m({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},O),j),emits:{},inheritAttrs:!1,setup:function(a,d){var g=d.attrs,O=o(),y=o(),j=o(),x=i("ecTheme",null),A=i("ecInitOptions",null),w=i("ecUpdateOptions",null),z=u(a),C=z.autoresize,T=z.manualUpdate,k=z.loading,D=z.loadingOptions,U=s((function(){return j.value||a.option||null})),B=s((function(){return a.theme||E(x,{})})),S=s((function(){return a.initOptions||E(A,{})})),P=s((function(){return a.updateOptions||E(w,{})})),H=s((function(){return function(e){var t={};for(var n in e)_(n)||(t[n]=e[n]);return t}(g)})),M=c().proxy.$listeners;function F(e){if(O.value){var t=y.value=n(O.value,B.value,S.value);a.group&&(t.group=a.group);var r=M;r||(r={},Object.keys(g).filter((function(e){return 0===e.indexOf("on")&&e.length>2})).forEach((function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);"Once"===t.substring(t.length-4)&&(t="~".concat(t.substring(0,t.length-4))),r[t]=g[e]}))),Object.keys(r).forEach((function(e){var n=r[e];if(n){var a=e.toLowerCase();"~"===a.charAt(0)&&(a=a.substring(1),n.__once__=!0);var o=t;if(0===a.indexOf("zr:")&&(o=t.getZr(),a=a.substring(3)),n.__once__){delete n.__once__;var i=n;n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,e),o.off(a,n)}}o.on(a,n)}})),C.value?h((function(){t&&!t.isDisposed()&&t.resize(),o()})):o()}function o(){var n=e||U.value;n&&t.setOption(n,P.value)}}function N(){y.value&&(y.value.dispose(),y.value=void 0)}var R=null;l(T,(function(e){"function"==typeof R&&(R(),R=null),e||(R=l((function(){return a.option}),(function(e,t){e&&(y.value?y.value.setOption(e,m({notMerge:e!==t},P.value)):F())}),{deep:!0}))}),{immediate:!0}),l([B,S],(function(){N(),F()}),{deep:!0}),f((function(){a.group&&y.value&&(y.value.group=a.group)}));var q,I,W,Z,$,G=function(e){return t=Object.create(null),b.forEach((function(n){var r;t[n]=(r=n,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,t)})})),t;var t}(y);return q=y,I=k,W=D,Z=i("ecLoadingOptions",{}),$=s((function(){return m(m({},E(Z,{})),null==W?void 0:W.value)})),f((function(){var e=q.value;e&&(I.value?e.showLoading($.value):e.hideLoading())})),function(n,a,o){var i=null;l([o,n,a],(function(n,a,o){var u=n[0],s=n[1],c=n[2];u&&s&&c&&(i=r((function(){s.resize()}),100),e(u,i)),o((function(){i&&u&&t(u,i)}))}))}(y,C,O),p((function(){F()})),v((function(){L&&O.value?O.value.__dispose=N:N()})),m({chart:y,root:O,setOption:function(e,t){a.manualUpdate&&(j.value=e),y.value?y.value.setOption(e,t||{}):F(e)},nonEventAttrs:H},G)},render:function(){var e=m({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",d("x-vue-echarts",e)}});export{z as S};
