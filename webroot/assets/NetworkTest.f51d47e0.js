import{m as e,n as a,p as t,o as s,u as l,F as r,G as d,g as o}from"./element-plus.3300f756.js";import{_ as i,u as p}from"./index.559546be.js";import{S as n}from"./sysTool.90ffbf30.js";import{K as u,f as m,o as f,c,a as g,P as j,S as b,u as _,W as v,aw as h,ax as w}from"./@vue.73d14ebc.js";import"./lodash-es.98e49362.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.3d90a471.js";import"./dayjs.2790329b.js";import"./axios.765908e4.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./vue-router.43b9a342.js";import"./pinia.3f4aff4f.js";import"./vue-demi.b3a9cad9.js";import"./@element-plus.0bef5fa5.js";import"./screenfull.7cf96174.js";import"./vue-echarts.7828944a.js";import"./resize-detector.4e96b72b.js";import"./echarts.2b8dcc79.js";import"./zrender.54f191d6.js";import"./tslib.60310f1a.js";import"./nprogress.aae2b787.js";const y={class:"main-container"},F={class:"main",style:{"background-color":"inherit"}},k=(e=>(h("data-v-edf75a34"),e=e(),w(),e))((()=>g("div",{class:"card-header"},[g("span",null,"网络诊断")],-1))),x={class:"item"},z={style:{padding:"14px"}},V={class:"remark"};var A=i({__name:"NetworkTest",setup(i){const h=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,w=/^(?=^.{3,255}$)(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*$/,A=p(),D=u({loadingFlag:!1,net1Form:{ip:""},net1Rules:{ip:[{validator:(e,a,t)=>{console.log("validateIP"),""!==a?h.test(a)||w.test(a)?t():t(new Error("格式错误！")):t()},trigger:"blur"}]},resultData:""}),P=m(null),Z=()=>{P.value.validate((e=>{if(!e)return!1;{D.loadingFlag=!0;const e={token:A.token,data:{ip:D.net1Form.ip},mock:!0};n.sendPingCmd(e).then((e=>{e&&"0"===e.code?D.resultData=e.data:I(e),D.loadingFlag=!1}))}}))},I=e=>{o({type:"error",message:e.message})};return(o,i)=>{const p=e,n=a,u=t,m=s,h=l,w=r,A=d;return f(),c("div",y,[g("div",F,[j(A,{gutter:20,style:{height:"100%"}},{default:b((()=>[j(w,{span:12},{default:b((()=>[j(h,{class:"box-card",shadow:"hover"},{header:b((()=>[k])),default:b((()=>[g("div",x,[j(h,{style:{height:"100%"}},{default:b((()=>[g("div",z,[j(m,{model:_(D).net1Form,rules:_(D).net1Rules,ref_key:"net1Ref",ref:P,"status-icon":"","label-width":"120px"},{default:b((()=>[j(n,{label:"IP地址",prop:"ip"},{default:b((()=>[j(p,{modelValue:_(D).net1Form.ip,"onUpdate:modelValue":i[0]||(i[0]=e=>_(D).net1Form.ip=e),placeholder:"请输入ip地址"},null,8,["modelValue"])])),_:1}),j(n,null,{default:b((()=>[j(u,{type:"primary",onClick:Z,loading:_(D).loadingFlag},{default:b((()=>[v("检测")])),_:1},8,["loading"])])),_:1}),j(n,{label:"返回结果"},{default:b((()=>[j(p,{rows:"10",type:"textarea",modelValue:_(D).resultData,"onUpdate:modelValue":i[1]||(i[1]=e=>_(D).resultData=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1}),g("div",V,[j(A,{gutter:16},{default:b((()=>[j(w,{span:3},{default:b((()=>[v("操作步骤:")])),_:1}),j(w,{span:21},{default:b((()=>[v("1、输入需要ping设备的ip地址")])),_:1})])),_:1}),j(A,{gutter:16},{default:b((()=>[j(w,{offset:3,span:21},{default:b((()=>[v("2、点击检测按钮")])),_:1})])),_:1}),j(A,{gutter:16},{default:b((()=>[j(w,{offset:3,span:21},{default:b((()=>[v("3、返回结果框返回ping命令的结果")])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-edf75a34"]]);export{A as default};
